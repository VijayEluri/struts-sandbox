<?xml version="1.0" encoding="utf-8" ?> 
<!DOCTYPE objects PUBLIC "-//SPRING//DTD OBJECT//EN"
  "http://www.springframework.net/dtd/spring-objects.dtd">
<objects>

	<!-- filter command -->

  <object id="filter" type="PhoneBook.Core.Commands.BaseList, PhoneBook.Core">
		<property name="RelatedIDs">
			<list>
				<value>filter</value>
				<value>entry_key</value>
				<value>last_name</value>
				<value>first_name</value>
				<value>extension</value>
				<value>user_name</value>
				<value>hired</value>
				<value>hours</value>
			</list>
		</property>
		<property name="ID"><value>filter</value></property>
  </object>
	
	<!-- filter list commands -->
		
  <object id="last_name_list" parent="BaseFilterList">
	<property name="ID"><value>last_name_list</value></property>
	<property name="RelatedIDs"><list><value>last_name_list</value></list></property>
  </object>

  <object id="first_name_list" parent="BaseFilterList">
	<property name="ID"><value>first_name_list</value></property>
	<property name="RelatedIDs"><list><value>first_name_list</value></list></property>
  </object>
  
  <object id="extension_list" parent="BaseFilterList">
	<property name="ID"><value>extension_list</value></property>
	<property name="RelatedIDs"><list><value>extension_list</value></list></property>	
  </object>

  <object id="user_name_list" parent="BaseFilterList">
	<property name="ID"><value>user_name_list</value></property>
	<property name="RelatedIDs"><list><value>user_name_list</value></list></property>	
  </object>

  <object id="hired_list" parent="BaseFilterList">
	<property name="ID"><value>hired_list</value></property>
	<property name="RelatedIDs"><list><value>hired_list</value></list></property>	
  </object>

  <object id="hours_list" parent="BaseFilterList">
	<property name="ID"><value>hours_list</value></property>
	<property name="RelatedIDs"><list><value>hours_list</value></list></property>	
  </object>
  
  
	<!-- chains -->

    <object id="directory_view" parent="BaseChain">
		<property name="ID">
			<value>directory_view</value>
		</property>
		<property name="AddCommands">
			<list>
				<ref object="last_name_list" />
				<ref object="first_name_list" />
				<ref object="extension_list" />
				<ref object="user_name_list" />
				<ref object="hired_list" />
				<ref object="hours_list" />
			</list>
		</property>
	</object>
	
		
  <!-- directory1 helpers -->

  <object id="directory_view_helper" parent="BaseHelper" singleton="false">
		<property name="Command">
			<ref object="directory_view" />
		</property>
  </object>

  <object id="directory_find_helper" parent="BaseHelper" singleton="false">
		<property name="Command">
			<ref object="filter" />
		</property>
  </object>
  
  <!-- directory2 helpers -->
  
  	<object id="BaseGridHelper" type="PhoneBook.Web.AppGridHelper, PhoneBook.Web" singleton="false">
		<property name="Catalog">
			<ref object="Catalog" />
		</property>
	</object>

  <object id="directory_grid_helper" parent="BaseGridHelper" singleton="false">
		<property name="ListHelper">
			<ref object="directory_find_helper" />
		</property>
		<property name="SaveHelper">
			<ref object="entry_save_helper" />
		</property>
		<property name="HasCriteria">
			<value>true</value>
		</property>
		<property name="DataKeyField">
			<value>entry_key</value>
		</property>
		<property name="FieldSet">
			<list>
				<ref object="first_name"/>
				<ref object="last_name"/>
				<ref object="extension"/> 
				<ref object="user_name"/>
				<ref object="hired"/> 
				<ref object="hours"/>
			</list>
		</property>
	</object>  

  <object id="entry_save_helper" parent="BaseHelper" singleton="false">
		<property name="Command">
			<ref object="entry_save" />
		</property>
  </object>

  <object id="entry_save" type="PhoneBook.Core.Commands.BaseSave, PhoneBook.Core">
		<property name="ID">
			<value>entry_save</value>
		</property>
		<property name="KeyID">
			<value>entry_key</value>
		</property>
		<property name="InsertID">
			<value>entry_insert</value>
		</property>
		<property name="UpdateID">
			<value>entry_update</value>
		</property>
		<property name="RelatedIDs">
			<list>
				<value>entry_key</value>
			</list>
		</property>
		<property name="RequiredIDs">
			<list>
				<value>first_name</value>
				<value>last_name</value>
				<value>extension</value>
				<value>user_name</value>
				<value>hours</value>
				<value>hired</value>
				<value>editor</value>
			</list>
		</property>
	</object>
  
</objects>
